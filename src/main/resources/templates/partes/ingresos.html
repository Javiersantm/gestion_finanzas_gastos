<div th:fragment="ingresosContent" class="container py-4">

    <div class="mb-2">
        <h1 class="h2 fw-bold">Panel de Ingresos</h1>
    </div>

    <div class="mb-4">
        <h3 id="saldoActualContainer" class="mb-0" style="font-size: 1.5rem;">
            Saldo Actual:
            <strong id="saldoActualDisplay" th:text="${#numbers.formatDecimal(usuarioSaldo, 0, 'COMMA', 2, 'POINT')}">2,048.00</strong> €
        </h3>
    </div>
    <div class="row g-4 mb-4">
        <div class="col-md-4">
            <div class="card border-0 shadow-sm bg-success text-white">
                <div class="card-body">
                    <h5 class="card-title fw-semibold mb-3">Total Ingresos</h5>
                    <p class="card-text display-6 fw-bold" id="totalIngresosDisplay">€0.00</p>
                    <small class="opacity-75">Mes Actual</small>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card border-0 shadow-sm bg-warning text-white">
                <div class="card-body">
                    <h5 class="card-title fw-semibold mb-3">Gastos del Mes</h5>
                    <p class="card-text display-6 fw-bold" id="gastosMesDisplay">€0.00</p>
                    <small class="opacity-75">Mes Actual</small>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card border-0 shadow-sm bg-info text-white">
                <div class="card-body">
                    <h5 class="card-title fw-semibold mb-3">Balance Actual</h5>
                    <p class="card-text display-6 fw-bold" id="balanceMesDisplay">€0.00</p>
                    <small class="opacity-75">Disponible</small>
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex gap-3 mb-4">
        <button
                type="button"
                class="btn btn-primary d-flex align-items-center gap-2"
                data-bs-toggle="modal"
                data-bs-target="#modal-nuevo-ingreso"
        >
            <i class="fas fa-plus"></i>
            Añadir Ingreso
        </button>

        <button
                type="button"
                class="btn btn-outline-primary d-flex align-items-center gap-2"
                data-bs-toggle="modal"
                data-bs-target="#modal-recibir-bizum"
        >
            <i class="fas fa-mobile-alt"></i>
            Recibir Bizum
        </button>
    </div>

    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white border-0">
            <h5 class="card-title mb-0 fw-semibold text-dark">Historial de Ingresos</h5>
        </div>

        <div class="card-body p-0">
            <div class="table-responsive">
                <table id="incomeTable" class="table table-hover mb-0">
                    <thead class="table-light">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Fuente</th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Fecha</th>
                        <th scope="col" class="text-center">Acciones</th>
                    </tr>
                    </thead>
                    <tbody id="ingresosTableBody">
                    <tr>
                        <td colspan="5" class="text-center text-muted p-5">
                            <i class="fas fa-spinner fa-spin me-2"></i> Cargando ingresos...
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
